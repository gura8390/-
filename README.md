# **自动复制选中文本并解除网页复制限制**
=============================
## 介绍

本代码是一个自动复制选中文本和解除复制限制按钮的脚本，旨在帮助用户在网页中快速复制选中文本，并且可以根据需要启用或禁用解除复制限制和自动复制功能。
**请注意，使用按钮在右下角，安装后刷新所在页面。**

### 适用
目前测试的主要平台有：语雀、QQ文档、360百度文库，道客巴巴、腾讯文档、豆丁网、无忧考网、学习啦、蓬勃范文、思否社区、力扣、知乎、doc、17k、CSDN。且暂未发现无法使用的平台。
### 功能

* 自动复制选中文本：当用户选中文本时，按钮会自动复制选中文本到剪贴板。
* 解除复制限制：按钮可以解除网页的复制限制，允许用户自由复制选中文本。
* 启用/禁用自动复制：按钮可以根据用户的需求启用或禁用自动复制功能。
* 自动检测前景色：按钮可以自动检测前景色，并根据颜色亮度返回黑色或白色。

## 使用方法
**为使用本脚本，您需要油猴插件，该插件可在您浏览器的扩充套件处找到。**
1. 安装 **GreaseMonkey 插件**。
2. 将代码复制到 GreaseMonkey 的脚本编辑器中。
3. 保存脚本并 reload 网页。
4. 在网页中选中文本时，按钮将自动复制选中文本到剪贴板。

## 油猴或篡改猴的下载地址
1. **firfox**:https://addons.mozilla.org/firefox/addon/greasemonkey/
2. **官网**：https://www.tampermonkey.net/
3. **chrome**:https://chromewebstore.google.com/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo

## 支持的浏览器
1. firefox
2. edge
3. chrome
4. etc.

## 版本2.3

我们对自动复制功能进行了一系列优化,为您带来更好的用户体验。以下是本次更新的主要内容:

### 按钮样式优化
- 使用更加协调的颜色搭配,如浅蓝色或浅绿色等,与网页背景色形成良好的对比。
- 增加按钮的圆角,使其看起来更加圆润。
- 为按钮添加悬停效果,如改变背景色或文字颜色,增加交互感。

### 按钮位置优化
- 将按钮放置在页面右下角或左下角,使其不会遮挡网页内容。
- 添加一个小图标,如复制或解锁的图标,使按钮更加醒目。

### 提示信息优化
- 使用更加友好的提示信息,如"已复制到剪贴板"或"复制功能已启用"等。
- 使用自定义的提示框样式,如圆角、阴影等,使其更加美观。

### 整体布局优化
- 将按钮和提示信息放置在一个小的浮动面板中,使其更加集中和整洁。
- 为面板添加一些简单的装饰,如边框、背景色等,增加视觉美感。

我们希望这些优化能为您带来更好的使用体验。如果您有任何反馈或建议,欢迎随时与我们联系。

### **版本 2.1**

**修复自动复制逻辑：**
- 修复了在点击按钮之前能够自动复制的问题，确保初始状态下不会自动复制。
- 修复了在点击按钮之后不能自动复制的问题，确保启用功能后能够自动复制。

**添加更多的复制限制检测：**
- 增加了对 document.oncopy、document.oncut、document.onpaste 等事件的处理。

**添加更多的框架支持：**
- 支持 object 和 embed 标签的处理，确保在这些标签内也能解除复制限制并自动复制。

**添加更多的样式限制检测：**
- 增加了对 pointer-events 和 -webkit-touch-callout 样式的处理，确保解除所有可能的复制限制。

**自定义复制行为：**
- 允许用户选择复制文本的格式：纯文本、HTML、链接。

**自定义提示信息：**
- 在复制成功或失败时显示自定义的提示信息，提升用户体验。

**自动启用功能：**
- 根据用户设置，脚本可以自动启用或禁用功能，避免对某些网站造成干扰。

**改进的配置选项：**
- 通过 copyState.settings 对象管理更多配置选项，让用户可以更灵活地自定义脚本的行为。

**详细的文档和注释：**
- 增加了更多注释，以帮助其他开发者理解脚本的工作原理和使用方法.
